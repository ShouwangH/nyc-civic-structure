{
  "meta": {
    "jurisdiction": "city",
    "version": "1.0",
    "description": "Workflow subviews for city processes"
  },
  "subviews": [
    {
      "id": "ulurp",
      "label": "ULURP",
      "description": "Uniform Land Use Review Procedure for zoning and land use applications in NYC.",
      "type": "workflow",
      "jurisdiction": "city",
      "anchor": {
        "nodeId": "city:DCP"
      },
      "nodes": [
        "city:DCP",
        "city:community_boards",
        "city:borough_presidents",
        "city:city_council",
        "city:mayor_nyc"
      ],
      "edges": [
        {
          "source": "city:DCP",
          "target": "city:community_boards"
        },
        {
          "source": "city:community_boards",
          "target": "city:borough_presidents"
        },
        {
          "source": "city:borough_presidents",
          "target": "city:city_council"
        },
        {
          "source": "city:city_council",
          "target": "city:mayor_nyc"
        }
      ],
      "layout": {
        "type": "elk-layered",
        "options": {
          "direction": "RIGHT",
          "spacing": 50
        },
        "fit": true,
        "padding": 50,
        "animate": true
      },
      "metadata": {
        "steps": [
          {
            "id": "certification",
            "title": "Certification",
            "description": "Department of City Planning certifies application as complete and begins review clock."
          },
          {
            "id": "community",
            "title": "Community Board Review",
            "description": "Community Board holds hearings and issues advisory recommendations (60 days)."
          },
          {
            "id": "borough",
            "title": "Borough President Review",
            "description": "Borough President reviews and issues advisory recommendation (30 days)."
          },
          {
            "id": "cpc",
            "title": "City Planning Commission",
            "description": "CPC holds hearings and votes on proposal (60 days)."
          },
          {
            "id": "council",
            "title": "City Council Action",
            "description": "Council holds hearings and votes; may modify proposal (50 days)."
          },
          {
            "id": "mayor",
            "title": "Mayoral Review",
            "description": "Mayor approves or vetoes; veto may be overridden by two-thirds Council vote (5 days)."
          }
        ]
      }
    },
    {
      "id": "city_budget",
      "label": "City Budget Process",
      "description": "How NYC's annual budget is proposed, negotiated, and adopted.",
      "type": "workflow",
      "jurisdiction": "city",
      "anchor": {
        "nodeId": "city:departments"
      },
      "nodes": [
        "city:departments",
        "city:OMB",
        "city:mayor_nyc",
        "city:city_council",
        "city:comptroller"
      ],
      "edges": [
        {
          "source": "city:departments",
          "target": "city:OMB"
        },
        {
          "source": "city:OMB",
          "target": "city:mayor_nyc"
        },
        {
          "source": "city:mayor_nyc",
          "target": "city:city_council"
        },
        {
          "source": "city:city_council",
          "target": "city:mayor_nyc"
        },
        {
          "source": "city:mayor_nyc",
          "target": "city:comptroller"
        }
      ],
      "layout": {
        "type": "elk-layered",
        "options": {
          "direction": "RIGHT",
          "spacing": 50
        },
        "fit": true,
        "padding": 50,
        "animate": true
      },
      "metadata": {
        "steps": [
          {
            "id": "requests",
            "title": "Agency Budget Requests",
            "description": "Agencies submit budget proposals to OMB (summer/fall)."
          },
          {
            "id": "preliminary",
            "title": "Preliminary Budget",
            "description": "Mayor releases Preliminary Budget (January)."
          },
          {
            "id": "exec_budget",
            "title": "Executive Budget",
            "description": "Mayor releases proposed Executive Budget (April)."
          },
          {
            "id": "council_review",
            "title": "Council Review & Hearings",
            "description": "Council holds hearings and negotiates modifications with Mayor."
          },
          {
            "id": "adoption",
            "title": "Budget Adoption",
            "description": "Council adopts final budget; Mayor signs (by July 1)."
          },
          {
            "id": "oversight",
            "title": "Oversight & Audit",
            "description": "Comptroller monitors spending and conducts performance audits throughout fiscal year."
          }
        ]
      }
    },
    {
      "id": "charter_revision",
      "label": "City Charter Revision",
      "description": "Process for revising NYC's Charter through a commission and voter referendum.",
      "type": "workflow",
      "jurisdiction": "city",
      "anchor": {
        "nodeId": "city:mayor_nyc"
      },
      "nodes": [
        "city:mayor_nyc",
        "city:city_council",
        "city:charter_revision_commission",
        "city:voters"
      ],
      "edges": [
        {
          "source": "city:mayor_nyc",
          "target": "city:charter_revision_commission"
        },
        {
          "source": "city:city_council",
          "target": "city:charter_revision_commission"
        },
        {
          "source": "city:charter_revision_commission",
          "target": "city:voters"
        }
      ],
      "layout": {
        "type": "elk-layered",
        "options": {
          "direction": "RIGHT",
          "spacing": 50
        },
        "fit": true,
        "padding": 50,
        "animate": true
      },
      "metadata": {
        "steps": [
          {
            "id": "formation",
            "title": "Commission Formation",
            "description": "Mayor or Council (by 2/3 vote) creates Charter Revision Commission."
          },
          {
            "id": "hearings",
            "title": "Public Hearings",
            "description": "Commission holds public hearings and drafts proposed amendments."
          },
          {
            "id": "submission",
            "title": "Ballot Submission",
            "description": "Commission approves proposals and submits to Board of Elections for ballot."
          },
          {
            "id": "ratification",
            "title": "Voter Ratification",
            "description": "Voters approve or reject proposed Charter changes at general election."
          }
        ]
      }
    },
    {
      "id": "local_law",
      "label": "Local Law Passage",
      "description": "Process for enacting local laws through the City Council and Mayor.",
      "type": "workflow",
      "jurisdiction": "city",
      "anchor": {
        "nodeId": "city:city_council_member"
      },
      "nodes": [
        "city:city_council_member",
        "city:city_council",
        "city:mayor_nyc",
        "city:administrative_code"
      ],
      "edges": [
        {
          "source": "city:city_council_member",
          "target": "city:city_council"
        },
        {
          "source": "city:city_council",
          "target": "city:mayor_nyc"
        },
        {
          "source": "city:mayor_nyc",
          "target": "city:administrative_code"
        },
        {
          "source": "city:city_council",
          "target": "city:administrative_code"
        }
      ],
      "layout": {
        "type": "elk-layered",
        "options": {
          "direction": "RIGHT",
          "spacing": 50
        },
        "fit": true,
        "padding": 50,
        "animate": true
      },
      "metadata": {
        "steps": [
          {
            "id": "introduction",
            "title": "Bill Introduction",
            "description": "Council Member introduces bill; referred to committee."
          },
          {
            "id": "committee",
            "title": "Committee Review",
            "description": "Committee holds hearings and votes on bill."
          },
          {
            "id": "council_vote",
            "title": "Full Council Vote",
            "description": "Full Council debates and votes on bill (majority required)."
          },
          {
            "id": "mayoral_action",
            "title": "Mayoral Action",
            "description": "Mayor signs into law, vetoes, or allows to become law without signature (30 days)."
          },
          {
            "id": "override",
            "title": "Veto Override (if needed)",
            "description": "Council may override veto with two-thirds vote."
          },
          {
            "id": "codification",
            "title": "Codification",
            "description": "Law compiled into Administrative Code of New York City."
          }
        ]
      }
    },
    {
      "id": "agency_rulemaking",
      "label": "Agency Rulemaking (CAPA)",
      "description": "How NYC agencies create regulations under the City Administrative Procedure Act.",
      "type": "workflow",
      "jurisdiction": "city",
      "anchor": {
        "nodeId": "city:departments"
      },
      "nodes": [
        "city:departments",
        "city:mayor_office_operations",
        "city:public_nyc",
        "city:city_council",
        "city:rules_of_city"
      ],
      "edges": [
        {
          "source": "city:departments",
          "target": "city:mayor_office_operations"
        },
        {
          "source": "city:mayor_office_operations",
          "target": "city:public_nyc"
        },
        {
          "source": "city:public_nyc",
          "target": "city:departments"
        },
        {
          "source": "city:departments",
          "target": "city:city_council"
        },
        {
          "source": "city:departments",
          "target": "city:rules_of_city"
        }
      ],
      "layout": {
        "type": "elk-layered",
        "options": {
          "direction": "RIGHT",
          "spacing": 50
        },
        "fit": true,
        "padding": 50,
        "animate": true
      },
      "metadata": {
        "steps": [
          {
            "id": "draft",
            "title": "Draft Proposed Rule",
            "description": "Agency drafts proposed rule to implement Administrative Code provisions."
          },
          {
            "id": "notice",
            "title": "Public Notice",
            "description": "Notice of Proposed Rulemaking published in City Record with 30-day minimum comment period."
          },
          {
            "id": "comment",
            "title": "Public Comment Period",
            "description": "Public submits written comments; agency may hold public hearings."
          },
          {
            "id": "review",
            "title": "Mayoral Office Review",
            "description": "Mayor's Office of Operations reviews final rule; City Council receives notice."
          },
          {
            "id": "adoption",
            "title": "Final Adoption",
            "description": "Agency adopts final rule; published in City Record and compiled in Rules of the City of New York."
          }
        ]
      }
    },
    {
      "id": "mayoral_appointments",
      "label": "Mayoral Appointments (Advice & Consent)",
      "description": "Process for appointing key city officials requiring City Council confirmation.",
      "type": "workflow",
      "jurisdiction": "city",
      "anchor": {
        "nodeId": "city:mayor_nyc"
      },
      "nodes": [
        "city:mayor_nyc",
        "city:city_council",
        "city:departments"
      ],
      "edges": [
        {
          "source": "city:mayor_nyc",
          "target": "city:city_council"
        },
        {
          "source": "city:city_council",
          "target": "city:mayor_nyc"
        },
        {
          "source": "city:mayor_nyc",
          "target": "city:departments"
        }
      ],
      "layout": {
        "type": "elk-layered",
        "options": {
          "direction": "RIGHT",
          "spacing": 50
        },
        "fit": true,
        "padding": 50,
        "animate": true
      },
      "metadata": {
        "steps": [
          {
            "id": "nomination",
            "title": "Mayoral Nomination",
            "description": "Mayor nominates candidate for position requiring Council approval."
          },
          {
            "id": "committee_review",
            "title": "Committee Hearing",
            "description": "Relevant Council committee holds hearing and questions nominee."
          },
          {
            "id": "council_vote",
            "title": "Council Vote",
            "description": "Full Council votes to approve or reject nomination (majority required)."
          },
          {
            "id": "appointment",
            "title": "Appointment Confirmed",
            "description": "If approved, Mayor officially appoints nominee to position."
          }
        ]
      }
    },
    {
      "id": "procurement",
      "label": "City Procurement Process",
      "description": "How NYC agencies contract for goods and services through competitive bidding and Comptroller oversight.",
      "type": "workflow",
      "jurisdiction": "city",
      "anchor": {
        "nodeId": "city:departments"
      },
      "nodes": [
        "city:departments",
        "city:comptroller",
        "city:vendors",
        "city:MOCS"
      ],
      "edges": [
        {
          "source": "city:departments",
          "target": "city:comptroller"
        },
        {
          "source": "city:comptroller",
          "target": "city:departments"
        },
        {
          "source": "city:departments",
          "target": "city:vendors"
        },
        {
          "source": "city:vendors",
          "target": "city:departments"
        },
        {
          "source": "city:departments",
          "target": "city:comptroller"
        },
        {
          "source": "city:MOCS",
          "target": "city:departments"
        }
      ],
      "layout": {
        "type": "elk-layered",
        "options": {
          "direction": "RIGHT",
          "spacing": 50
        },
        "fit": true,
        "padding": 50,
        "animate": true
      },
      "metadata": {
        "steps": [
          {
            "id": "needs_assessment",
            "title": "Agency Identifies Need",
            "description": "Agency determines procurement need and develops specifications."
          },
          {
            "id": "pre_registration",
            "title": "Comptroller Pre-Registration",
            "description": "Comptroller reviews and pre-registers procurement method and budget."
          },
          {
            "id": "solicitation",
            "title": "Public Solicitation",
            "description": "Agency issues RFP/RFQ/IFB via PASSPort; vendors submit competitive bids."
          },
          {
            "id": "evaluation",
            "title": "Evaluation & Award",
            "description": "Agency evaluates bids and selects winning vendor; MOCS may review large contracts."
          },
          {
            "id": "registration",
            "title": "Comptroller Registration",
            "description": "Comptroller registers contract after verifying compliance with procurement rules."
          },
          {
            "id": "performance",
            "title": "Contract Performance & Monitoring",
            "description": "Vendor performs services; agency monitors; Comptroller audits payments."
          }
        ]
      }
    }
  ]
}
